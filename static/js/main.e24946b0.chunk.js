(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/loadingicon.0836a709.gif"},36:function(e,t,a){e.exports=a(60)},41:function(e,t,a){},43:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(20),i=a.n(r),o=(a(41),a(10)),l=a(11),c=a(14),m=a(12),u=a(13),p=a(4),h=a(75),d=a(70),g=a(77),y=a(69),b=(a(43),a(71)),v=a(72),f=a(79),E=a(73),O=a(22),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={settings:!1,value:2},a.displayPlayers=a.displayPlayers.bind(Object(p.a)(Object(p.a)(a))),a.join=a.join.bind(Object(p.a)(Object(p.a)(a))),a.leave=a.leave.bind(Object(p.a)(Object(p.a)(a))),a.start=a.start.bind(Object(p.a)(Object(p.a)(a))),a.change=a.change.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"contains",value:function(e,t){for(var a=e.length;a--;)if(e[a].valueOf()===t.valueOf())return!0;return!1}},{key:"join",value:function(){if(this.props.updateGameBasedOnResponse("username",document.getElementById("username").value),0!==this.props.player.username.length){console.log("Joining game as "+this.props.player.username);var e={type:"request",action:"join",name:this.props.player.username};this.props.connection.send(JSON.stringify(e)),this.props.toggleInGame()}else alert("Please choose a username.")}},{key:"leave",value:function(){console.log(this.props.player.username+" is leaving the game.");var e={type:"request",action:"leave",name:this.props.player.username,index:this.props.player.index};this.props.updateGameBasedOnResponse("index",-1),this.props.connection.send(JSON.stringify(e)),this.props.setCookie("","",-1),this.props.toggleInGame()}},{key:"start",value:function(){console.log("The game is starting.");var e={type:"request",action:"start",rounds:3,name:this.props.player.username,index:this.props.player.index};this.props.connection.send(JSON.stringify(e))}},{key:"displayPlayers",value:function(){var e=[];this.props.game.numPlayers>0?e.push(n.a.createElement("div",{className:"text",key:"ingame"},this.props.game.numPlayers," players in game:")):e.push(n.a.createElement("div",{className:"text",key:"roomempty"},"Room is empty."));for(var t=0;t<this.props.game.numPlayers;t++)e.push(n.a.createElement("div",{className:"text",key:t},this.props.game.players[t]));return n.a.createElement("div",{className:"username curved"},e)}},{key:"displayStart",value:function(){return 0===this.props.player.index?n.a.createElement(y.a,{onClick:this.start,disabled:!this.props.inGame},"Start Game!"):""}},{key:"change",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this;return n.a.createElement(d.a,{fluid:!0},n.a.createElement(b.a,{className:"text"},"Choose a username and join the game!"),n.a.createElement(v.a,{inline:!0,className:"centered"},n.a.createElement(E.a,{type:"text",id:"username",name:"username",placeholder:this.props.inGame?this.props.player.username:"Username",disabled:this.props.inGame}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(y.a,{className:"join",onClick:this.props.inGame?this.leave:this.join},this.props.inGame?"Leave":"Join"),n.a.createElement(f.a,{isOpen:0===this.props.player.index&&this.props.inGame},n.a.createElement(y.a,{className:"join",onClick:function(){return e.setState({settings:!e.state.settings})},disabled:!0},n.a.createElement(O.b,null)),n.a.createElement(y.a,{className:"join",onClick:this.start,disabled:this.props.game.numPlayers<2},"Start Game!"))),n.a.createElement(f.a,{isOpen:this.state.settings},n.a.createElement("p",{className:"slider"},this.state.value),n.a.createElement("div",{className:"slider"})),n.a.createElement(b.a,null,this.displayPlayers()))}}]),t}(s.Component),x=a(74),j=a(16),C=a.n(j),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"displayQuotes",value:function(){var e=this,t=[],a=function(a){var s=a;t.push(n.a.createElement(y.a,{block:!0,className:"curved",key:"quote_"+a,onClick:function(){console.log(e.props.game.quoteChoices[a]),e.props.choose(e.props.game.quoteChoices[s])}},n.a.createElement("i",null,e.props.game.quoteChoices[a][0]),n.a.createElement("br",null),e.props.game.quoteChoices[a][1]+"... "+e.props.game.quoteChoices[a][2]))};for(var s in this.props.game.quoteChoices)a(s);return t}},{key:"screen",value:function(){var e=n.a.createElement(b.a,null,n.a.createElement("img",{src:C.a,style:{display:"block",margin:"0 auto"},height:"45",alt:"..."}),n.a.createElement(x.a,{style:{textAlign:"center"}},"Waiting for ",this.props.game.players[this.props.game.indexOfIt]," to choose a quote.")),t=n.a.createElement(b.a,null,n.a.createElement("div",{className:"text"},n.a.createElement("i",null,"Choose one of the following quotes.")),this.displayQuotes());return this.props.game.indexOfIt===this.props.player.index?t:e}},{key:"render",value:function(){var e=n.a.createElement(b.a,null,n.a.createElement("img",{src:C.a,style:{display:"block",margin:"0 auto"},height:"45",alt:"..."}),n.a.createElement("div",{className:"text",style:{textAlign:"center"}},"Waiting for ",this.props.game.players[this.props.game.indexOfIt]," to choose a quote.")),t=n.a.createElement(b.a,null,n.a.createElement("div",{className:"text"},n.a.createElement("i",null,"Choose one of the following quotes.")),n.a.createElement("br",null),this.displayQuotes());return n.a.createElement(d.a,{fluid:!0},this.props.game.indexOfIt===this.props.player.index?t:e)}}]),t}(s.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"displayQuotes",value:function(){for(var e=[["Origin","Quote 1"],["Origin","Quote 2"],["Origin","Quote 3"]],t=[],a=0;a<e.length;a++)t.push(n.a.createElement(y.a,{block:!0},n.a.createElement("i",null,e[a][0]),n.a.createElement("br",null),e[a][1]));return t}},{key:"screen",value:function(){var e=n.a.createElement(b.a,null,n.a.createElement("img",{src:C.a,style:{display:"block",margin:"0 auto"},height:"45",alt:"..."}),n.a.createElement(x.a,{style:{textAlign:"center"}},"Waiting for ",this.props.game.players[this.props.game.indexOfIt]," to choose a quote.")),t=n.a.createElement(b.a,null,n.a.createElement(x.a,null,"Choose one of the following quotes."),this.displayQuotes());return this.props.game.indexOfIt===this.props.player.index?t:e}},{key:"render",value:function(){var e=this,t=n.a.createElement(b.a,null,n.a.createElement("img",{src:C.a,style:{display:"block",margin:"0 auto"},height:"45",alt:"..."}),n.a.createElement("div",{className:"text",style:{textAlign:"center"}},"Waiting for other players to complete their quotes.")),a=this.props.game.quote,s=n.a.createElement(b.a,null,n.a.createElement("div",{className:"text"},n.a.createElement("i",null,"Finish the quote below and fool other players into believing yours is the original!",n.a.createElement("br",null),"Do your best to make your quote sound authentic.")),n.a.createElement("br",null),n.a.createElement("div",{className:"text"},n.a.createElement("i",null,a[0]),n.a.createElement("br",null),a[1],"..."),n.a.createElement(v.a,{inline:!0,className:"centered full"},n.a.createElement(E.a,{id:"username",type:"text",placeholder:"...",onChange:function(t){return e.props.writeQuote(t.target.value)}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(y.a,{className:"join",onClick:function(){e.props.choose(e.props.player.quote),r=!0}},"Submit"))),r=this.props.game.indexOfIt===this.props.player.index||this.props.game.submitted[this.props.player.index];return n.a.createElement(d.a,{fluid:!0},r?t:s)}}]),t}(s.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"displayQuotes",value:function(){var e=this,t=[],a=function(a){var s=e.props.game.submittedQuotes[a][3];if(s===e.props.player.index&&!e.props.game.results)return"continue";for(var r=[],i=0;i<e.props.game.votes[s];i++)r.push("\u275a");t.push(n.a.createElement(y.a,{block:!0,className:e.props.game.results&&e.props.game.indexOfIt===s?"correct":"",key:"voting_"+a,onClick:function(){e.props.vote(s,e.props.game.indexOfIt===e.props.player.index)},disabled:e.props.game.results},e.props.game.indexOfIt===e.props.player.index||e.props.game.results?n.a.createElement("div",{className:"star"},e.props.game.results?r:""," ",e.props.game.bonus[s]?"\u2605":""):"",n.a.createElement("i",null,e.props.game.submittedQuotes[a][0]),n.a.createElement("br",null),e.props.game.submittedQuotes[a][1]+"... "+e.props.game.submittedQuotes[a][2]))};for(var s in this.props.game.submittedQuotes)a(s);return t}},{key:"render",value:function(){var e=n.a.createElement(b.a,null,n.a.createElement("img",{src:C.a,style:{display:"block",margin:"0 auto"},height:"45",alt:"..."}),n.a.createElement("div",{className:"text",style:{textAlign:"center"}},"Waiting for other players to vote."));return n.a.createElement(d.a,{fluid:!0},this.props.game.submitted[this.props.player.index]&&!this.props.game.results?e:n.a.createElement(b.a,null,n.a.createElement("div",{className:"text"},n.a.createElement("i",null,this.props.game.results?"\u275a = 1 Vote, \u2605 = Bonus Point":this.props.game.indexOfIt===this.props.player.index?"Award bonus points to the players' quotes.":"Vote for the quote below which you believe to be the original.")),n.a.createElement("br",null),this.displayQuotes()))}}]),t}(s.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a.checkWinner=a.checkWinner.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"displayScores",value:function(){for(var e=[],t=0;t<this.state.game.scores.length;t++)e.push(n.a.createElement(h.a,{key:this.state.game.players[t]},this.state.game.players[t]+": "+this.state.game.scores[t]));return n.a.createElement(d.a,null,n.a.createElement("div",{className:"username curved"},e))}},{key:"displayPlayerScores",value:function(){var e=this,t=[],a=function(a){var s=e.props.game.submittedQuotes[a][3];if(s===e.props.player.index)return"continue";t.push(n.a.createElement(y.a,{block:!0,key:"voting_"+a,onClick:function(){e.props.vote(s,e.props.game.indexOfIt===e.props.player.index)}},e.props.game.indexOfIt===e.props.player.index&&e.props.game.bonus[s]?n.a.createElement("div",{className:"star"},"\u2605"):"",n.a.createElement("i",null,e.props.game.submittedQuotes[a][0]),n.a.createElement("br",null),e.props.game.submittedQuotes[a][1]+"... "+e.props.game.submittedQuotes[a][2]))};for(var s in this.props.game.submittedQuotes)a(s);return t}},{key:"checkWinner",value:function(){for(var e={user:this.props.game.players[0],score:this.props.game.scores[0]},t=0;t<this.props.game.scores.length;t++)this.props.game.scores[t]>e.score&&(e={user:this.props.game.players[t],score:this.props.game.scores[t]});return e}},{key:"render",value:function(){var e=this.checkWinner();return n.a.createElement(d.a,{fluid:!0},n.a.createElement("div",{className:"text"},n.a.createElement("br",null),n.a.createElement("i",null,e.user)," won with a score of ",e.score+"!",n.a.createElement("br",null),n.a.createElement("br",null),"Wondering how ties are decided? It goes to the person who joins the game first. Late to the party? Sucks to suck."),n.a.createElement("br",null))}}]),t}(s.Component),S=a(59),I=a(78),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={game:{numPlayers:0,phase:-1,round:0,players:[],scores:[],quote:[],quotes:[],votes:[],results:!1,time:null,submitted:[],bonus:[],indexOfIt:-1},results:{},player:{quote:[],username:"",index:-1},inGame:!1},a.connection=null,a.choose=a.choose.bind(Object(p.a)(Object(p.a)(a))),a.vote=a.vote.bind(Object(p.a)(Object(p.a)(a))),a.end=a.end.bind(Object(p.a)(Object(p.a)(a))),a.reset=a.reset.bind(Object(p.a)(Object(p.a)(a))),a.next=a.next.bind(Object(p.a)(Object(p.a)(a))),a.setCookie=a.setCookie.bind(Object(p.a)(Object(p.a)(a))),a.checkCookie=a.checkCookie.bind(Object(p.a)(Object(p.a)(a))),a.updateGameBasedOnResponse=a.updateGameBasedOnResponse.bind(Object(p.a)(Object(p.a)(a))),a.updateIndex=a.updateIndex.bind(Object(p.a)(Object(p.a)(a))),a.writeQuote=a.writeQuote.bind(Object(p.a)(Object(p.a)(a))),a.resetState=a.resetState.bind(Object(p.a)(Object(p.a)(a))),a.toggleInGame=a.toggleInGame.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.connection=new WebSocket("ws://localhost:4444"),this.connection.onopen=function(){console.log("Connected!")},this.connection.onerror=function(e){console.log("WebSocket Error "+e),alert("Cannot reach server!")},this.connection.onmessage=function(e){var t=JSON.parse(e.data);t.players.includes(this.state.player.username)||this.setState({inGame:!1});var a=Object.keys(t);if(t.end)this.resetState();else for(var s=0;s<a.length;s++)1!==this.state.game.phase&&"quote"===a[s]||this.updateGameBasedOnResponse(a[s],t[a[s]]);this.render()}.bind(this),this.connection.onclose=function(e){console.log("Connection lost")},this.checkCookie()}},{key:"updateGameBasedOnResponse",value:function(e,t){var a=this.state,s="game";"username"===e&&(this.setCookie(t,365),s="player"),a[s][e]=t,this.setState(a),this.updateIndex()}},{key:"updateIndex",value:function(){var e=this.state;e.player.index=this.state.game.players.indexOf(this.state.player.username),this.setState(e)}},{key:"writeQuote",value:function(e){var t=this.state;t.player.quote=t.game.quote,t.player.quote[2]=e,this.setState(t)}},{key:"resetState",value:function(){this.setState({game:{numPlayers:0,phase:-1,players:[],scores:[],quote:[],quotes:[],time:null,indexOfIt:-1},player:{quote:[],username:"",index:-1},inGame:!1})}},{key:"toggleInGame",value:function(){this.setState({inGame:!this.state.inGame})}},{key:"setCookie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var s=0===t?"":"expires="+a.toUTCString()+";path=/";document.cookie="username="+e+";"+s}},{key:"getCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var n=a[s];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}},{key:"checkCookie",value:function(){var e=this.getCookie("username"),t=Number(this.getCookie("index"));if(""!==e){var a=this.state.player;a.username=e,a.index=t,this.setState(a),this.setState({inGame:!0})}}},{key:"choose",value:function(e){e[3]=this.state.player.index;var t={type:"request",action:"choose",quote:e,name:this.state.player.username,index:this.state.player.index};this.connection.send(JSON.stringify(t))}},{key:"vote",value:function(e){var t={type:"request",action:arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"bonus":"vote",voteIndex:e,name:this.state.player.username,index:this.state.player.index};this.connection.send(JSON.stringify(t))}},{key:"end",value:function(){var e={type:"request",action:"end",name:this.state.player.username,index:this.state.player.index};this.connection.send(JSON.stringify(e))}},{key:"next",value:function(){var e={type:"request",action:"next",name:this.state.player.username,index:this.state.player.index};this.connection.send(JSON.stringify(e))}},{key:"reset",value:function(){this.resetState(),this.setCookie("","",-1),console.log("The game is ending.");var e={type:"request",action:"reset",name:this.state.player.username,index:this.state.player.index};this.connection.send(JSON.stringify(e))}},{key:"displayScores",value:function(){for(var e=[],t=0;t<this.state.game.scores.length;t++)e.push(n.a.createElement(h.a,{key:this.state.game.players[t]+"_"+t},this.state.game.players[t]+": "+this.state.game.scores[t]));return n.a.createElement(d.a,null,n.a.createElement("div",{className:"username curved"},e))}},{key:"render",value:function(){for(var e=this.state.inGame&&!this.state.game.players.includes(this.state.player.username)?n.a.createElement("div",null,"Hi"):-1===this.state.game.phase?n.a.createElement(k,{updateGameBasedOnResponse:this.updateGameBasedOnResponse,player:this.state.player,game:this.state.game,inGame:this.state.inGame,toggleInGame:this.toggleInGame,setCookie:this.setCookie,connection:this.connection}):0===this.state.game.phase&&this.state.inGame?n.a.createElement(N,{choose:this.choose,updateGameBasedOnResponse:this.updateGameBasedOnResponse,player:this.state.player,game:this.state.game,quoteChoices:this.state.quoteChoices,connection:this.connection}):1===this.state.game.phase&&this.state.inGame?n.a.createElement(G,{updateGameBasedOnResponse:this.updateGameBasedOnResponse,player:this.state.player,choose:this.choose,writeQuote:this.writeQuote,game:this.state.game,connection:this.connection}):2===this.state.game.phase&&this.state.inGame?n.a.createElement(q,{vote:this.vote,updateGameBasedOnResponse:this.updateGameBasedOnResponse,player:this.state.player,game:this.state.game,connection:this.connection,next:this.next}):3===this.state.game.phase&&this.state.inGame?n.a.createElement(w,{player:this.state.player,game:this.state.game,connection:this.connection}):n.a.createElement("div",{className:"waiting"},"Please wait for the current game to finish!"),t=Object(S.a)({root:{height:8},colorPrimary:{backgroundColor:"#232323"},barColorPrimary:{backgroundColor:"#0accab"}})(I.a),a=[],s=1;s<=this.state.game.rounds;s++)a.push(n.a.createElement("div",{key:"round_"+s,className:s===this.state.game.round?"round current":"round"},s));return n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"title"},n.a.createElement(g.a,null,n.a.createElement(h.a,{sm:"3"}),n.a.createElement(h.a,{sm:"6"},n.a.createElement(O.a,{className:"icon"})," Wordsmyth"),n.a.createElement(h.a,{sm:"3"},n.a.createElement("div",{className:"round"},-1!==this.state.game.phase||3!==this.state.game.phase?a:"")))),n.a.createElement("div",{className:"username"},-1!==this.state.game.phase?this.state.player.username:n.a.createElement("br",null)),n.a.createElement(t,{className:"timer",variant:"determinate",value:this.state.inGame&&3!==this.state.game.phase?100*this.state.game.time/60:100,barColorPrimary:"#0accab"}),n.a.createElement("div",null,e,this.state.game.results&&0===this.state.player.index?n.a.createElement(y.a,{className:"shadow",style:{display:"block",marginTop:"0px",marginBottom:"20px",marginRight:"auto",marginLeft:"auto",borderRadiusBottom:"40px"},onClick:this.next},"Next Round"):"",this.state.inGame?this.displayScores():"",-1!==this.state.game.phase&&this.state.inGame?n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement(y.a,{className:"shadow",style:{marginLeft:"35px",marginBottom:"20px",borderRadius:"40px"},onClick:3===this.state.game.phase?this.reset:this.end,disabled:-1===this.state.game.phase},3===this.state.game.phase?"Play Again!":"End Game")):""))}}]),t}(s.Component);var B=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Q,null))};a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.e24946b0.chunk.js.map